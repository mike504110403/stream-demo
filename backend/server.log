2025/07/29 12:53:30 log.go:23: üìù Êó•Ë™åÁ≥ªÁµ±ÂàùÂßãÂåñÂÆåÊàêÔºàÊéßÂà∂Âè∞Ëº∏Âá∫Ê®°ÂºèÔºâ
‚ÑπÔ∏è  [INFO] config.go:331 - ‰ΩøÁî®ÂëΩ‰ª§Ë°åÊåáÂÆöÁöÑË≥áÊñôÂ∫´È°ûÂûã: postgresql
‚ÑπÔ∏è  [INFO] config.go:286 - ÂàùÂßãÂåñË≥áÊñôÂ∫´ÈÄ£Êé•Ôºå‰ΩøÁî®ÈÖçÁΩÆ: postgresql (È°ûÂûã: postgresql)
‚ÑπÔ∏è  [INFO] database_factory.go:42 - ÂàùÂßãÂåñ‰∏ªË≥áÊñôÂ∫´ÈÄ£Êé•...
‚ÑπÔ∏è  [INFO] database_factory.go:110 - === PostgreSQL Connection Info ===
‚ÑπÔ∏è  [INFO] database_factory.go:111 - Host: localhost:5432
‚ÑπÔ∏è  [INFO] database_factory.go:112 - Database: stream_demo
‚ÑπÔ∏è  [INFO] database_factory.go:113 - User: stream_user
‚ÑπÔ∏è  [INFO] database_factory.go:192 - Ë≥áÊñôÂ∫´ÈÄ£Êé•Ê±†ÈÖçÁΩÆÂÆåÊàê
‚ÑπÔ∏è  [INFO] database_factory.go:143 - PostgreSQL ÈÄ£Êé•ÊàêÂäü
‚ÑπÔ∏è  [INFO] database_factory.go:147 - PostgreSQL ‰∏ªË≥áÊñôÂ∫´Â∑≤ÈÄ£Êé•
‚ÑπÔ∏è  [INFO] config.go:316 - Ë≥áÊñôÂ∫´ÈÖçÁΩÆÂÆåÊàêÔºå‰ΩøÁî®: postgresql (È°ûÂûã: postgresql)
INFO: Redis clients initialized successfully
‚ÑπÔ∏è  [INFO] config.go:321 - Redis configuration completed successfully
‚ÑπÔ∏è  [INFO] main.go:37 - üöÄ ‰∏≤ÊµÅÂπ≥Âè∞ÂæåÁ´ØÊúçÂãôÂïüÂãï
‚ÑπÔ∏è  [INFO] main.go:38 - üìÇ ÈÖçÁΩÆÊñá‰ª∂: config/config.local.yaml
‚ÑπÔ∏è  [INFO] main.go:39 - üåç ÈÅãË°åÁí∞Â¢É: local
‚ÑπÔ∏è  [INFO] main.go:40 - üóÑÔ∏è  Áï∂ÂâçË≥áÊñôÂ∫´: postgresql
‚ÑπÔ∏è  [INFO] migration_postgresql.go:17 - ÈñãÂßãPostgreSQLË≥áÊñôÂ∫´ÈÅ∑Áßª...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[7.241ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.249ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[8.943ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.057ms] [rows:-] SELECT * FROM "users" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[9.396ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[8.830ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[8.515ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[8.456ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[2.186ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[2.302ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.680ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.052ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[4.082ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'bio') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.571ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.426ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.600ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.882ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.736ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.432ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.251ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'videos'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.681ms] [rows:-] SELECT * FROM "videos" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[4.259ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'videos' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.934ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'videos'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.318ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'videos'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.334ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.287ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.304ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.264ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.268ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'original_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.292ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'original_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.263ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'thumbnail_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.299ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'hls_master_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.310ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'hls_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.265ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'mp4_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.288ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'mp4_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.268ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'duration') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.263ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'file_size') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.277ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'original_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.264ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.260ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'processing_progress') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.272ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'error_message') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.250ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'views') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.291ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'likes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.281ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.315ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'videos' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.123ms] [rows:1] SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'videos' AND constraint_name = 'fk_users_videos'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.531ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'videos' AND indexname = 'idx_videos_user_status' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.436ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'videos' AND indexname = 'idx_videos_user_created' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.474ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'videos' AND indexname = 'idx_videos_status_created' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.403ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.203ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[2.814ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.409ms] [rows:-] SELECT * FROM "video_qualities" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.316ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'video_qualities' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.119ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'video_qualities'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.299ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'video_qualities'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.294ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.267ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'video_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.272ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'quality') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.265ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'width') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.268ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'height') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.266ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'bitrate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.262ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'file_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.268ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'file_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.287ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'file_size') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.267ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.271ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.252ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'video_qualities' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.738ms] [rows:1] SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'video_qualities' AND constraint_name = 'fk_videos_video_qualities'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.454ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'video_qualities' AND indexname = 'idx_video_qualities_video_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.367ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.167ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[2.453ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payments'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.497ms] [rows:-] SELECT * FROM "payments" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.180ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.115ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.353ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payments'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.284ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.272ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.246ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.288ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.267ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.246ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.266ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'transaction_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.299ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.263ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'refund_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.275ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.283ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.757ms] [rows:1] SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND constraint_name = 'fk_users_payments'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.231ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_user_status' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.216ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_status_created' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.225ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_transaction_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.405ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.180ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[2.561ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'lives'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.479ms] [rows:-] SELECT * FROM "lives" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.170ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'lives' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.019ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'lives'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.307ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'lives'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.273ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.267ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.268ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.256ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.234ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.252ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'start_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.267ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'end_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.303ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'stream_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.327ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'push_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.465ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'stream_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.512ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'viewer_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.283ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'chat_enabled') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.649ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.560ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'lives' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.959ms] [rows:1] SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'lives' AND constraint_name = 'fk_users_lives'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.258ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'lives' AND indexname = 'idx_lives_user_status' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.364ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'lives' AND indexname = 'idx_lives_status_start' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.513ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'lives' AND indexname = 'idx_lives_stream_key' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.565ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.291ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[2.704ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.543ms] [rows:-] SELECT * FROM "chat_messages" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.438ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'chat_messages' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[3.556ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'chat_messages'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.738ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'chat_messages'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.466ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.408ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'live_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.497ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.507ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.617ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'content') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.591ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.291ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[1.140ms] [rows:1] SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND constraint_name = 'fk_lives_chat_messages'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.775ms] [rows:1] SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_messages' AND constraint_name = 'fk_users_chat_messages'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.249ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'chat_messages' AND indexname = 'idx_chat_live_created' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:20
[0.218ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'chat_messages' AND indexname = 'idx_chat_user_created' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.412ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_users_username ON users (username)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.194ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_users_email ON users (email)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.296ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_users_created_at ON users (created_at DESC)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.251ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_videos_user_id ON videos (user_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.288ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_videos_status ON videos (status)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.184ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_videos_created_at ON videos (created_at DESC)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.165ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_videos_views ON videos (views DESC)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.333ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_videos_likes ON videos (likes DESC)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.547ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_videos_search ON videos USING gin(to_tsvector('english', title || ' ' || description))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.258ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_video_qualities_video_id ON video_qualities (video_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.183ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_video_qualities_quality ON video_qualities (quality)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.245ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_lives_user_id ON lives (user_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.217ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_lives_status ON lives (status)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.165ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_lives_start_time ON lives (start_time DESC)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.334ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_lives_stream_key ON lives (stream_key)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.224ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_payments_user_id ON payments (user_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.222ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_payments_status ON payments (status)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.216ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_payments_transaction_id ON payments (transaction_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.192ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_payments_created_at ON payments (created_at DESC)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.267ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_chat_messages_live_id ON chat_messages (live_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.165ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_chat_messages_user_id ON chat_messages (user_id)
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:95
[0.165ms] [rows:0] CREATE INDEX IF NOT EXISTS idx_chat_messages_created_at ON chat_messages (created_at DESC)
‚ÑπÔ∏è  [INFO] migration_postgresql.go:101 - PostgreSQLÁ¥¢ÂºïÂâµÂª∫ÂÆåÊàê
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:114
[0.301ms] [rows:0] CREATE EXTENSION IF NOT EXISTS "uuid-ossp"
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:114
[0.230ms] [rows:0] CREATE EXTENSION IF NOT EXISTS "pg_trgm"
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:114
[0.139ms] [rows:0] CREATE EXTENSION IF NOT EXISTS "btree_gin"
‚ÑπÔ∏è  [INFO] migration_postgresql.go:120 - PostgreSQLÊì¥Â±ïÂàùÂßãÂåñÂÆåÊàê
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.241ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.157ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[1.107ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.429ms] [rows:-] SELECT * FROM "user_live_sessions" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.994ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_live_sessions' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.960ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_live_sessions'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.295ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_live_sessions'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.350ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.308ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.275ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'room_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.638ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.611ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.373ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'stream_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.503ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.342ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'started_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.442ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'ended_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.308ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'duration') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.327ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'peak_viewers') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.303ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'total_viewers') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.395ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'total_messages') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.320ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.368ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_sessions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_sessions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.299ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'user_live_sessions' AND indexname = 'idx_user_live_sessions_user_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:166
[0.277ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'user_live_sessions' AND indexname = 'idx_user_live_sessions_room_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.421ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.206ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.934ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.561ms] [rows:-] SELECT * FROM "chat_message_history" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.736ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'chat_message_history' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.648ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'chat_message_history'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.356ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'chat_message_history'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.761ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_message_history' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.409ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND column_name = 'room_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_message_history' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.323ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_message_history' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.280ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND column_name = 'message') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_message_history' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.264ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND column_name = 'message_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_message_history' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.294ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'chat_message_history' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'chat_message_history' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.215ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'chat_message_history' AND indexname = 'idx_chat_message_history_room_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:171
[0.226ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'chat_message_history' AND indexname = 'idx_chat_message_history_user_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.195ms] [rows:1] SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND table_type = 'BASE TABLE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.172ms] [rows:1] SELECT CURRENT_DATABASE()
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.922ms] [rows:-] SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'stream_demo' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.625ms] [rows:-] SELECT * FROM "user_live_stats" LIMIT 5
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.858ms] [rows:-] SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_live_stats' AND constraint_type = 'UNIQUE'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.713ms] [rows:-] SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'stream_demo' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_live_stats'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.413ms] [rows:-] SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_live_stats'
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.352ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.413ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.358ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'total_sessions') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.354ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'total_duration') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.295ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'total_viewers') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.421ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'total_messages') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.428ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.253ms] [rows:0] SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_live_stats' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_live_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/database/migration_postgresql.go:176
[0.227ms] [rows:1] SELECT count(*) FROM pg_indexes WHERE tablename = 'user_live_stats' AND indexname = 'idx_user_live_stats_user_id' AND schemaname = CURRENT_SCHEMA()
‚ÑπÔ∏è  [INFO] migration_postgresql.go:51 - PostgreSQLË≥áÊñôÂ∫´ÈÅ∑ÁßªÂÆåÊàê
‚ÑπÔ∏è  [INFO] main.go:47 - Ë≥áÊñôÂ∫´ÈÅ∑ÁßªÂÆåÊàê
2025/07/29 12:53:30 live.go:80: üöÄ ÂïüÂãïÁõ¥Êí≠ÊúçÂãô...
2025/07/29 12:53:30 live_service.go:68: üöÄ ÂïüÂãïÊú¨Âú∞Áõ¥Êí≠ÊúçÂãô...
2025/07/29 12:53:30 live_service.go:136: üì° ÂïüÂãï RTMP ÊúçÂãôÂô®...
2025/07/29 12:53:30 live_service.go:140: ‚úÖ RTMP ÊúçÂãôÂô®Â∑≤ÂïüÂãï
2025/07/29 12:53:30 live_service.go:154: üé¨ ÂïüÂãïÁõ¥Êí≠ËΩâÁ¢ºÂô®...
2025/07/29 12:53:30 live_service.go:158: ‚úÖ Áõ¥Êí≠ËΩâÁ¢ºÂô®Â∑≤ÂïüÂãï
2025/07/29 12:53:30 live_service.go:82: ‚úÖ Êú¨Âú∞Áõ¥Êí≠ÊúçÂãôÂïüÂãïÂÆåÊàê
2025/07/29 12:53:30 public_stream_service.go:47: ÂæûÊåÅ‰πÖÂåñÂ≠òÂÑ≤Âä†Ëºâ‰∫Ü 2 ÂÄãÊµÅÈÖçÁΩÆ
INFO: ÈñãÂßãÁõ£ËÅΩÈ†ªÈÅì: chat_messages
INFO: ÈñãÂßãÁõ£ËÅΩÈ†ªÈÅì: live_updates
‚ÑπÔ∏è  [INFO] main.go:55 - ‰æùË≥¥Ê≥®ÂÖ•ÂÆπÂô®ÂàùÂßãÂåñÂÆåÊàê
2025/07/29 12:53:30 transcode_worker.go:39: üöÄ ÂïüÂãïËÉåÊôØËΩâÁ¢ºÂ∑•‰ΩúÊúçÂãô
‚ÑπÔ∏è  [INFO] main.go:59 - ÊâÄÊúâÊúçÂãôÂïüÂãïÂÆåÊàê
2025/07/29 12:53:30 transcode_worker.go:50: üîç ÊúçÂãôÂïüÂãïÊôÇÊ™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /api/health               --> stream-demo/backend/api.(*Router).healthCheck-fm (4 handlers)
[GIN-debug] POST   /api/users/register       --> stream-demo/backend/api.(*UserHandler).Register-fm (4 handlers)
[GIN-debug] POST   /api/users/login          --> stream-demo/backend/api.(*UserHandler).Login-fm (4 handlers)
[GIN-debug] GET    /api/public-streams       --> stream-demo/backend/api.(*PublicStreamHandler).GetAvailableStreams-fm (4 handlers)
[GIN-debug] GET    /api/public-streams/:name --> stream-demo/backend/api.(*PublicStreamHandler).GetStreamInfo-fm (4 handlers)
[GIN-debug] GET    /api/public-streams/:name/url --> stream-demo/backend/api.(*PublicStreamHandler).GetStreamURL-fm (4 handlers)
[GIN-debug] GET    /api/public-streams/:name/urls --> stream-demo/backend/api.(*PublicStreamHandler).GetStreamURLs-fm (4 handlers)
[GIN-debug] GET    /api/public-streams/:name/stats --> stream-demo/backend/api.(*PublicStreamHandler).GetStreamStats-fm (4 handlers)
[GIN-debug] GET    /api/users/:id            --> stream-demo/backend/api.(*UserHandler).GetUser-fm (5 handlers)
[GIN-debug] PUT    /api/users/:id            --> stream-demo/backend/api.(*UserHandler).UpdateUser-fm (5 handlers)
[GIN-debug] DELETE /api/users/:id            --> stream-demo/backend/api.(*UserHandler).DeleteUser-fm (5 handlers)
[GIN-debug] GET    /api/videos               --> stream-demo/backend/api.(*VideoHandler).ListVideos-fm (5 handlers)
[GIN-debug] POST   /api/videos/upload-url    --> stream-demo/backend/api.(*VideoHandler).GenerateUploadURL-fm (5 handlers)
[GIN-debug] POST   /api/videos/confirm-upload --> stream-demo/backend/api.(*VideoHandler).ConfirmUpload-fm (5 handlers)
[GIN-debug] POST   /api/videos               --> stream-demo/backend/api.(*VideoHandler).UploadVideo-fm (5 handlers)
[GIN-debug] GET    /api/videos/:id           --> stream-demo/backend/api.(*VideoHandler).GetVideo-fm (5 handlers)
INFO: RedisË®äÊÅØÁõ£ËÅΩÂô®Â∑≤ÂïüÂãï
[GIN-debug] GET    /api/videos/:id/transcode-status --> stream-demo/backend/api.(*VideoHandler).GetVideoTranscodeStatus-fm (5 handlers)
[GIN-debug] PUT    /api/videos/:id           --> stream-demo/backend/api.(*VideoHandler).UpdateVideo-fm (5 handlers)
[GIN-debug] DELETE /api/videos/:id           --> stream-demo/backend/api.(*VideoHandler).DeleteVideo-fm (5 handlers)
[GIN-debug] GET    /api/videos/search        --> stream-demo/backend/api.(*VideoHandler).SearchVideos-fm (5 handlers)
[GIN-debug] POST   /api/videos/:id/like      --> stream-demo/backend/api.(*VideoHandler).LikeVideo-fm (5 handlers)
[GIN-debug] GET    /api/users/:id/videos     --> stream-demo/backend/api.(*VideoHandler).GetUserVideos-fm (5 handlers)
[GIN-debug] GET    /api/live                 --> stream-demo/backend/api.(*LiveHandler).GetUserLives-fm (5 handlers)
[GIN-debug] POST   /api/live                 --> stream-demo/backend/api.(*LiveHandler).CreateLive-fm (5 handlers)
[GIN-debug] GET    /api/live/:id             --> stream-demo/backend/api.(*LiveHandler).GetLive-fm (5 handlers)
[GIN-debug] PUT    /api/live/:id             --> stream-demo/backend/api.(*LiveHandler).UpdateLive-fm (5 handlers)
[GIN-debug] DELETE /api/live/:id             --> stream-demo/backend/api.(*LiveHandler).DeleteLive-fm (5 handlers)
[GIN-debug] GET    /api/live-rooms           --> stream-demo/backend/api.(*LiveRoomHandler).GetActiveRooms-fm (5 handlers)
[GIN-debug] POST   /api/live-rooms           --> stream-demo/backend/api.(*LiveRoomHandler).CreateRoom-fm (5 handlers)
[GIN-debug] GET    /api/live-rooms/:id       --> stream-demo/backend/api.(*LiveRoomHandler).GetRoomByID-fm (5 handlers)
[GIN-debug] POST   /api/live-rooms/:id/join  --> stream-demo/backend/api.(*LiveRoomHandler).JoinRoom-fm (5 handlers)
[GIN-debug] POST   /api/live-rooms/:id/leave --> stream-demo/backend/api.(*LiveRoomHandler).LeaveRoom-fm (5 handlers)
[GIN-debug] POST   /api/live-rooms/:id/start --> stream-demo/backend/api.(*LiveRoomHandler).StartLive-fm (5 handlers)
[GIN-debug] POST   /api/live-rooms/:id/end   --> stream-demo/backend/api.(*LiveRoomHandler).EndLive-fm (5 handlers)
[GIN-debug] GET    /api/payments             --> stream-demo/backend/api.(*PaymentHandler).ListPayments-fm (5 handlers)
[GIN-debug] POST   /api/payments             --> stream-demo/backend/api.(*PaymentHandler).CreatePayment-fm (5 handlers)
[GIN-debug] GET    /api/payments/:id         --> stream-demo/backend/api.(*PaymentHandler).GetPayment-fm (5 handlers)
[GIN-debug] POST   /api/payments/:id/process --> stream-demo/backend/api.(*PaymentHandler).ProcessPayment-fm (5 handlers)
[GIN-debug] POST   /api/payments/:id/refund  --> stream-demo/backend/api.(*PaymentHandler).RefundPayment-fm (5 handlers)
[GIN-debug] GET    /api/users/:id/payments   --> stream-demo/backend/api.(*PaymentHandler).GetUserPayments-fm (5 handlers)
[GIN-debug] GET    /ws/:liveID               --> stream-demo/backend/ws.(*Handler).ServeWS-fm (4 handlers)
‚ÑπÔ∏è  [INFO] main.go:86 - üåê HTTP ÊúçÂãôÂô®ÂïüÂãïÂú® :8080
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :8080
2025/07/29 12:53:32 transcode_worker.go:87: üîç Ê™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/services/transcode_worker.go:108
[1.782ms] [rows:0] SELECT * FROM "videos" WHERE status IN ('uploading','processing','transcoding') OR (status = 'ready' AND updated_at < '2025-07-28 12:53:32.653') LIMIT 5 FOR UPDATE
2025/07/29 12:53:32 transcode_worker.go:118: üì≠ Ê≤íÊúâÂæÖËΩâÁ¢ºÁöÑÂΩ±Áâá
[GIN] 2025/07/29 - 12:53:40 | 200 |      17.875¬µs |             ::1 | GET      "/api/health"
2025/07/29 12:54:00 transcode_worker.go:87: üîç Ê™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/services/transcode_worker.go:108
[0.945ms] [rows:0] SELECT * FROM "videos" WHERE status IN ('uploading','processing','transcoding') OR (status = 'ready' AND updated_at < '2025-07-28 12:54:00.654') LIMIT 5 FOR UPDATE
2025/07/29 12:54:00 transcode_worker.go:118: üì≠ Ê≤íÊúâÂæÖËΩâÁ¢ºÁöÑÂΩ±Áâá
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/repositories/postgresql/user.go:30
[2.335ms] [rows:1] SELECT * FROM "users" WHERE username = 'testuser' ORDER BY "users"."id" LIMIT 1
[GIN] 2025/07/29 - 12:54:01 | 200 |   56.318458ms |             ::1 | POST     "/api/users/login"


[31m2025/07/29 12:54:06 [Recovery] 2025/07/29 - 12:54:06 panic recovered:
POST /api/live-rooms HTTP/1.1
Host: localhost:8080
Accept: */*
Authorization: *
Content-Length: 83
Content-Type: application/json
User-Agent: curl/8.7.1


interface conversion: interface {} is uint, not int
/usr/local/go/src/runtime/iface.go:275 (0x100090b77)
	panicdottypeE: panic(&TypeAssertionError{iface, have, want, ""})
/Users/mike/Documents/self/stream-demo/backend/api/live_room.go:45 (0x1008bac0f)
	(*LiveRoomHandler).CreateRoom: room, err := h.liveRoomService.CreateRoom(userID.(int), req.Title, req.Description)
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 (0x10051433b)
	(*Context).Next: c.handlers[c.index](c)
/Users/mike/Documents/self/stream-demo/backend/middleware/auth.go:40 (0x1008bf49b)
	(*Router).setupAuthRoutes.AuthMiddleware.func1: c.Next()
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 (0x10051433b)
	(*Context).Next: c.handlers[c.index](c)
/Users/mike/Documents/self/stream-demo/backend/middleware/error.go:15 (0x1008c4a6f)
	(*Router).setupMiddleware.ErrorHandler.func1: c.Next()
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 (0x100519557)
	(*Context).Next: c.handlers[c.index](c)
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/recovery.go:102 (0x10051953c)
	CustomRecoveryWithWriter.func1: c.Next()
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 (0x100518903)
	(*Context).Next: c.handlers[c.index](c)
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/logger.go:249 (0x1005188e4)
	LoggerWithConfig.func1: c.Next()
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 (0x100517da3)
	(*Context).Next: c.handlers[c.index](c)
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:644 (0x10051792c)
	(*Engine).handleHTTPRequest: c.Next()
/Users/mike/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:600 (0x10051768f)
	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
/usr/local/go/src/net/http/server.go:3301 (0x1002de02b)
	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
/usr/local/go/src/net/http/server.go:2102 (0x1002c185b)
	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
/usr/local/go/src/runtime/asm_arm64.s:1223 (0x1000f5fc3)
	goexit: MOVD	R0, R0	// NOP
[0m
[GIN] 2025/07/29 - 12:54:06 | 500 |    4.482833ms |             ::1 | POST     "/api/live-rooms"
2025/07/29 12:54:30 transcode_worker.go:87: üîç Ê™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/services/transcode_worker.go:108
[1.878ms] [rows:0] SELECT * FROM "videos" WHERE status IN ('uploading','processing','transcoding') OR (status = 'ready' AND updated_at < '2025-07-28 12:54:30.652') LIMIT 5 FOR UPDATE
2025/07/29 12:54:30 transcode_worker.go:118: üì≠ Ê≤íÊúâÂæÖËΩâÁ¢ºÁöÑÂΩ±Áâá
2025/07/29 12:55:00 transcode_worker.go:87: üîç Ê™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/services/transcode_worker.go:108
[1.590ms] [rows:0] SELECT * FROM "videos" WHERE status IN ('uploading','processing','transcoding') OR (status = 'ready' AND updated_at < '2025-07-28 12:55:00.651') LIMIT 5 FOR UPDATE
2025/07/29 12:55:00 transcode_worker.go:118: üì≠ Ê≤íÊúâÂæÖËΩâÁ¢ºÁöÑÂΩ±Áâá
2025/07/29 12:55:30 transcode_worker.go:87: üîç Ê™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/services/transcode_worker.go:108
[2.093ms] [rows:0] SELECT * FROM "videos" WHERE status IN ('uploading','processing','transcoding') OR (status = 'ready' AND updated_at < '2025-07-28 12:55:30.652') LIMIT 5 FOR UPDATE
2025/07/29 12:55:30 transcode_worker.go:118: üì≠ Ê≤íÊúâÂæÖËΩâÁ¢ºÁöÑÂΩ±Áâá
2025/07/29 12:56:00 transcode_worker.go:87: üîç Ê™¢Êü•ÂæÖËΩâÁ¢ºÂΩ±Áâá...
‚ÑπÔ∏è  [INFO] log.go:16 - /Users/mike/Documents/self/stream-demo/backend/services/transcode_worker.go:108
[2.902ms] [rows:0] SELECT * FROM "videos" WHERE status IN ('uploading','processing','transcoding') OR (status = 'ready' AND updated_at < '2025-07-28 12:56:00.652') LIMIT 5 FOR UPDATE
2025/07/29 12:56:00 transcode_worker.go:118: üì≠ Ê≤íÊúâÂæÖËΩâÁ¢ºÁöÑÂΩ±Áâá
